(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b4386b30"],{"461a":function(e,a,t){},5679:function(e,a,t){"use strict";t.r(a);var n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("van-nav-bar",{attrs:{"left-text":"添加/编辑个人账本","left-arrow":""},on:{"click-left":function(a){return e.$router.go(-1)}}}),t("van-field",{attrs:{readonly:"",clickable:"",label:"记账场景",placeholder:"点击选择场景","input-align":"right","right-icon":"arrow"},on:{click:function(a){e.scenesPicker=!0}},model:{value:e.formData.scenes,callback:function(a){e.$set(e.formData,"scenes",a)},expression:"formData.scenes"}}),t("van-popup",{attrs:{position:"bottom"},model:{value:e.scenesPicker,callback:function(a){e.scenesPicker=a},expression:"scenesPicker"}},[t("van-picker",{attrs:{"show-toolbar":"",title:"选择场景",columns:e.scenesList},on:{cancel:function(a){e.scenesPicker=!1},confirm:e.scenesConfirm}})],1),t("van-field",{attrs:{clickable:"",label:"账本名称",placeholder:"请输入5字以内名称","input-align":"right"},model:{value:e.formData.name,callback:function(a){e.$set(e.formData,"name",a)},expression:"formData.name"}}),t("van-field",{attrs:{clickable:"",label:"设置预算",type:"number",placeholder:"请输入金额￥","input-align":"right"},model:{value:e.formData.budget,callback:function(a){e.$set(e.formData,"budget",a)},expression:"formData.budget"}}),t("van-field",{attrs:{readonly:"",clickable:"",label:"开始日期",placeholder:"点击选择日期","input-align":"right","right-icon":"arrow"},on:{click:function(a){e.startTimeCalendar=!0}},model:{value:e.formData.startTime,callback:function(a){e.$set(e.formData,"startTime",a)},expression:"formData.startTime"}}),t("van-calendar",{on:{confirm:e.startTimeConfirm},model:{value:e.startTimeCalendar,callback:function(a){e.startTimeCalendar=a},expression:"startTimeCalendar"}}),t("van-field",{attrs:{name:"radio",label:"是否重复","input-align":"right"},scopedSlots:e._u([{key:"input",fn:function(){return[t("van-radio-group",{attrs:{direction:"horizontal"},model:{value:e.formData.repeat,callback:function(a){e.$set(e.formData,"repeat",a)},expression:"formData.repeat"}},[t("van-radio",{attrs:{name:"1"}},[e._v("是")]),t("van-radio",{attrs:{name:"0"}},[e._v("否")])],1)]},proxy:!0}])}),t("van-field",{directives:[{name:"show",rawName:"v-show",value:0==e.formData.repeat,expression:"formData.repeat == 0"}],attrs:{readonly:"",clickable:"",label:"结束日期",placeholder:"点击选择日期","input-align":"right","right-icon":"arrow"},on:{click:function(a){e.endTimeCalendar=!0}},model:{value:e.formData.endTime,callback:function(a){e.$set(e.formData,"endTime",a)},expression:"formData.endTime"}}),t("van-calendar",{on:{confirm:e.endTimeConfirm},model:{value:e.endTimeCalendar,callback:function(a){e.endTimeCalendar=a},expression:"endTimeCalendar"}}),t("van-field",{directives:[{name:"show",rawName:"v-show",value:1==e.formData.repeat,expression:"formData.repeat == 1"}],attrs:{readonly:"",clickable:"",label:"频率",placeholder:"请选择","input-align":"right"},on:{click:function(a){e.frequencyPicker=!0}},model:{value:e.formData.frequency,callback:function(a){e.$set(e.formData,"frequency",a)},expression:"formData.frequency"}}),t("van-popup",{attrs:{position:"bottom"},model:{value:e.frequencyPicker,callback:function(a){e.frequencyPicker=a},expression:"frequencyPicker"}},[t("van-picker",{attrs:{"show-toolbar":"",title:"选择频率",columns:e.frequencyList},on:{cancel:function(a){e.frequencyPicker=!1},confirm:e.frequencyConfirm}})],1),t("van-field",{directives:[{name:"show",rawName:"v-show",value:1==e.formData.repeat,expression:"formData.repeat == 1"}],attrs:{name:"radio",label:"是否转结","input-align":"right"},scopedSlots:e._u([{key:"input",fn:function(){return[t("van-radio-group",{attrs:{direction:"horizontal"},model:{value:e.formData.carryOver,callback:function(a){e.$set(e.formData,"carryOver",a)},expression:"formData.carryOver"}},[t("van-radio",{attrs:{name:"1"}},[e._v("是")]),t("van-radio",{attrs:{name:"0"}},[e._v("否")])],1)]},proxy:!0}])}),t("van-field",{attrs:{readonly:"",clickable:"",label:"添加子预算",type:"number","input-align":"right","right-icon":"plus"},on:{click:function(a){e.addChild=!0}}}),e._l(e.childBudgetList,(function(a,n){return t("div",{key:n,staticClass:"childBudget"},[t("div",{staticClass:"childBudget_name"},[e._v(e._s(a.name))]),t("div",{staticClass:"childBudget_budget"},[e._v(e._s(e._f("moneyCompletion")(a.budget)))]),t("div",{staticClass:"childBudget_delete",on:{click:function(a){return e.removeChild(n)}}},[e._v("删除")])])})),t("van-dialog",{attrs:{title:"设置子预算","show-cancel-button":""},on:{confirm:e.addChildConfirm,cancel:e.addChildCancel},model:{value:e.addChild,callback:function(a){e.addChild=a},expression:"addChild"}},[t("van-field",{attrs:{clickable:"",label:"子预算名称",placeholder:"请输入5字以内名称","input-align":"right"},model:{value:e.childData.name,callback:function(a){e.$set(e.childData,"name",a)},expression:"childData.name"}}),t("van-field",{attrs:{readonly:"",clickable:"",label:"子预算类型",placeholder:"请选择","input-align":"right"},model:{value:e.childData.type,callback:function(a){e.$set(e.childData,"type",a)},expression:"childData.type"}}),t("van-field",{attrs:{clickable:"",label:"子预算金额",placeholder:"请输入金额￥",type:"number","input-align":"right"},model:{value:e.childData.budget,callback:function(a){e.$set(e.childData,"budget",a)},expression:"childData.budget"}})],1),t("van-field",{directives:[{name:"show",rawName:"v-show",value:"共享账本"==e.formData.scenes,expression:"formData.scenes == '共享账本'"}],attrs:{clickable:"",label:"我的邀请码",readonly:"","input-align":"right"},model:{value:e.invitationCode,callback:function(a){e.invitationCode=a},expression:"invitationCode"}}),t("div",{staticStyle:{margin:"26px","text-align":"center"}},[t("van-button",{staticStyle:{margin:"20px",width:"100px"},attrs:{size:"small",round:"",color:"#E58B37"},on:{click:function(a){return e.$router.go(-1)}}},[e._v("删除")]),t("van-button",{staticStyle:{margin:"20px",width:"100px"},attrs:{size:"small",round:"",color:"#344D99"},on:{click:e.saveForm}},[e._v("保存")])],1)],2)},i=[],r={name:"create_ledger",data:()=>({formData:{scenes:"",name:"",budget:"",startTime:"",endTime:"",repeat:"0",frequency:"",carryOver:"0"},invitationCode:"",scenesPicker:!1,scenesList:["个人账本","共享账本"],frequencyPicker:!1,frequencyList:["1月","3月","6月","12月"],startTimeCalendar:!1,endTimeCalendar:!1,childData:{name:"",type:"",budget:""},addChild:!1,childBudgetList:[]}),created(){this.invitationCode=this.createCode(),this.formData.scenes="personal"==this.$route.params.type?"个人账本":"共享账本"},methods:{removeChild(e){this.childBudgetList=this.childBudgetList.filter((a,t)=>t!=e),console.log(this.childBudgetList)},saveForm(){console.log(this.formData)},createCode(){return"xxxxxxxxxx".replace(/[xy]/g,(function(e){var a=16*Math.random()|0,t="x"==e?a:3&a|8;return t.toString(16).toUpperCase()}))},addChildConfirm(){if(console.log(this.childData),""!=this.childData.name&&""!=this.childData.budget){let e=Object.assign({},this.childData);this.childBudgetList.push(e)}else this.$toast("请填写完整内容")},addChildCancel(){this.childData={name:"",type:"",budget:""}},scenesConfirm(e){this.formData.scenes=e,this.scenesPicker=!1},startTimeConfirm(e){this.formData.startTime=`${e.getFullYear()}-${e.getMonth()+1}-${e.getDate()}`,this.startTimeCalendar=!1},endTimeConfirm(e){this.formData.endTime=`${e.getFullYear()}-${e.getMonth()+1}-${e.getDate()}`,this.endTimeCalendar=!1},frequencyConfirm(e){this.formData.frequency=e,this.frequencyPicker=!1},moneyFormatter(e){return console.log("formatter"),"￥"+e}}},l=r,o=(t("63b5"),t("2877")),c=Object(o["a"])(l,n,i,!1,null,"2bf46f1c",null);a["default"]=c.exports},"63b5":function(e,a,t){"use strict";var n=t("461a"),i=t.n(n);i.a}}]);